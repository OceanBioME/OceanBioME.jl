<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · OceanBioME.jl</title><meta name="title" content="Library · OceanBioME.jl"/><meta property="og:title" content="Library · OceanBioME.jl"/><meta property="twitter:title" content="Library · OceanBioME.jl"/><meta name="description" content="Documentation for OceanBioME.jl."/><meta property="og:description" content="Documentation for OceanBioME.jl."/><meta property="twitter:description" content="Documentation for OceanBioME.jl."/><meta property="og:url" content="https://OceanBioME.github.io/OceanBioME/stable/appendix/library/"/><meta property="twitter:url" content="https://OceanBioME.github.io/OceanBioME/stable/appendix/library/"/><link rel="canonical" href="https://OceanBioME.github.io/OceanBioME/stable/appendix/library/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.png" alt="OceanBioME.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.png" alt="OceanBioME.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">OceanBioME.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../quick_start/">Quick start</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../generated/box/">Box model</a></li><li><a class="tocitem" href="../../generated/column/">Simple column model</a></li><li><a class="tocitem" href="../../generated/eady/">Baroclinic instability</a></li><li><a class="tocitem" href="../../generated/kelp/">Model with particles (kelp) interacting with the biogeochemistry</a></li><li><a class="tocitem" href="../../generated/data_assimilation/">Data assimilation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Model components and setup</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Biogeochemical models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_components/biogeochemical/">Overview</a></li><li><a class="tocitem" href="../../model_components/biogeochemical/LOBSTER/">LOBSTER</a></li><li><a class="tocitem" href="../../model_components/biogeochemical/NPZ/">NPZD</a></li><li><input class="collapse-toggle" id="menuitem-4-1-4" type="checkbox"/><label class="tocitem" for="menuitem-4-1-4"><span class="docs-label">PISCES</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_components/biogeochemical/PISCES/PISCES/">PISCES</a></li><li><a class="tocitem" href="../../model_components/biogeochemical/PISCES/notable_differences/">Queries</a></li></ul></li></ul></li><li><a class="tocitem" href="../../model_components/air-sea-gas/">Air-sea gas exchange</a></li><li><a class="tocitem" href="../../model_components/carbon-chemistry/">Carbon chemistry</a></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Sediment models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_components/sediments/">Overview</a></li><li><a class="tocitem" href="../../model_components/sediments/simple_multi_g/">Simple Multi-G</a></li><li><a class="tocitem" href="../../model_components/sediments/instant_remineralisation/">Instant remineralisation</a></li></ul></li><li><a class="tocitem" href="../../model_components/light/">Light attenuation models</a></li><li><input class="collapse-toggle" id="menuitem-4-6" type="checkbox"/><label class="tocitem" for="menuitem-4-6"><span class="docs-label">Individuals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_components/individuals/">Overview</a></li><li><a class="tocitem" href="../../model_components/individuals/slatissima/">Sugar Kelp (Broch and Slagstad 2012 ++)</a></li></ul></li><li><a class="tocitem" href="../../model_components/utils/">Utilities</a></li></ul></li><li><a class="tocitem" href="../../model_implementation/">Implementing new models</a></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Numerical implementation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../numerical_implementation/positivity-preservation/">Positivity preservation</a></li></ul></li><li><a class="tocitem" href="../../visualization/">Visualization</a></li><li><a class="tocitem" href="../../contributing/">Contibutors guide</a></li><li><a class="tocitem" href="../../references/">References</a></li><li><input class="collapse-toggle" id="menuitem-10" type="checkbox" checked/><label class="tocitem" for="menuitem-10"><span class="docs-label">Appendix</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#OceanBioME.jl"><span>OceanBioME.jl</span></a></li><li><a class="tocitem" href="#Biogeochemical-Models"><span>Biogeochemical Models</span></a></li><li><a class="tocitem" href="#Light-Attenuation-Models"><span>Light Attenuation Models</span></a></li><li><a class="tocitem" href="#Sediments"><span>Sediments</span></a></li><li><a class="tocitem" href="#Gas-exchange-boundary-conditions"><span>Gas exchange boundary conditions</span></a></li><li><a class="tocitem" href="#Box-Model"><span>Box Model</span></a></li><li><a class="tocitem" href="#Particles"><span>Particles</span></a></li></ul></li><li><a class="tocitem" href="../function_index/">Function index</a></li><li><input class="collapse-toggle" id="menuitem-10-3" type="checkbox"/><label class="tocitem" for="menuitem-10-3"><span class="docs-label">Parameters</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../generated/LOBSTER_parameters/">LOBSTER</a></li><li><a class="tocitem" href="../../generated/NutrientPhytoplanktonZooplanktonDetritus_parameters/">NutrientPhytoplanktonZooplanktonDetritus</a></li><li><a class="tocitem" href="../../generated/SugarKelp_parameters/">SugarKelp</a></li><li><a class="tocitem" href="../../generated/TwoBandPhotosyntheticallyActiveRadiation_parameters/">TwoBandPhotosyntheticallyActiveRadiation</a></li><li><a class="tocitem" href="../../generated/OceanBioME.Models.SedimentModels.SimpleMultiG_parameters/">OceanBioME.Models.SedimentModels.SimpleMultiG</a></li><li><a class="tocitem" href="../../generated/OceanBioME.Models.SedimentModels.InstantRemineralisation_parameters/">OceanBioME.Models.SedimentModels.InstantRemineralisation</a></li><li><a class="tocitem" href="../../generated/CarbonChemistry_parameters/">CarbonChemistry</a></li><li><a class="tocitem" href="../../generated/O₂ air-sea exchange_parameters/">O₂ air-sea exchange</a></li><li><a class="tocitem" href="../../generated/O₂ air-sea exchange_parameters/">O₂ air-sea exchange</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Appendix</a></li><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/OceanBioME/OceanBioME.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/OceanBioME/OceanBioME.jl/blob/main/docs/src/appendix/library.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="library_api"><a class="docs-heading-anchor" href="#library_api">Library</a><a id="library_api-1"></a><a class="docs-heading-anchor-permalink" href="#library_api" title="Permalink"></a></h1><p>Documenting the user interface.</p><h2 id="OceanBioME.jl"><a class="docs-heading-anchor" href="#OceanBioME.jl">OceanBioME.jl</a><a id="OceanBioME.jl-1"></a><a class="docs-heading-anchor-permalink" href="#OceanBioME.jl" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OceanBioME.OceanBioME"><a class="docstring-binding" href="#OceanBioME.OceanBioME"><code>OceanBioME.OceanBioME</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>A fast and flexible modelling environment for modelling the coupled interactions between ocean biogeochemistry, carbonate chemistry, and physics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/OceanBioME.jl#L1-L4">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.CBMDayLength"><a class="docstring-binding" href="#OceanBioME.CBMDayLength"><code>OceanBioME.CBMDayLength</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">(day_length::CBMDayLength)(t, φ)</code></pre><p>Returns the length of day in seconds at the latitude <code>φ</code>, <code>t</code> seconds after the start of the year.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Utils/Utils.jl#L8-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.ScaleNegativeTracers-Tuple{Any}"><a class="docstring-binding" href="#OceanBioME.ScaleNegativeTracers-Tuple{Any}"><code>OceanBioME.ScaleNegativeTracers</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ScaleNegativeTracers(; tracers, scalefactors = ones(length(tracers)), warn = false, invalid_fill_value = NaN)</code></pre><p>Constructs a modifier to scale <code>tracers</code> so that none are negative. Use like:</p><pre><code class="language-julia hljs">modifier = ScaleNegativeTracers((:P, :Z, :N))
biogeochemistry = Biogeochemistry(...; modifier)</code></pre><p>This method is better, though still imperfect, method to prevent numerical errors that lead to negative tracer values compared to <a href="#OceanBioME.ZeroNegativeTracers"><code>ZeroNegativeTracers</code></a>. Please see <a href="https://github.com/OceanBioME/OceanBioME.jl/discussions/48">discussion in github</a>.</p><p>Future plans include implement a positivity-preserving timestepping scheme as the ideal alternative.</p><p>~~If <code>warn</code> is true then scaling will raise a warning.~~</p><p><code>invalid_fill_value</code> specifies the value to set the total cell content to if the total is less than 0 (meaning that total tracer conservation can not be enforced). If the value is set to anything other than <code>NaN</code> this scheme no longer conserves mass. While this may be useful to prevent spurious numerics leading to crashing care should be taken that the mass doesn&#39;t deviate too much.</p><p>This scheme is similar to that used by <a href="https://www.nemo-ocean.eu/">NEMO-PISCES</a>, although they scale the tendency rather than the value, while other Earth system models simply set negative tracers to zero, for example <a href="https://marbl-ecosys.github.io/versions/latest_release/index.html">NCAR&#39;s MARBL</a> and <a href="https://zenodo.org/records/2648099">NEMO-TOPAZ2</a>, which does not conserve mass. More complicated schemes exist, for example <a href="https://zenodo.org/records/3988618">ROMS-BECS</a> uses an implicite-itterative approach where each component is updated in sequence to garantee mass conservation, possibly at the expense of numerical precision.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Utils/negative_tracers.jl#L51-L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.ScaleNegativeTracers-Tuple{Oceananigans.Biogeochemistry.AbstractBiogeochemistry, Any}"><a class="docstring-binding" href="#OceanBioME.ScaleNegativeTracers-Tuple{Oceananigans.Biogeochemistry.AbstractBiogeochemistry, Any}"><code>OceanBioME.ScaleNegativeTracers</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ScaleNegativeTracers(bgc::AbstractBiogeochemistry; warn = false)</code></pre><p>Construct a modifier to scale the conserved tracers in <code>bgc</code> biogeochemistry.</p><p>If <code>warn</code> is true then scaling will raise a warning.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Utils/negative_tracers.jl#L88-L94">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.ZeroNegativeTracers"><a class="docstring-binding" href="#OceanBioME.ZeroNegativeTracers"><code>OceanBioME.ZeroNegativeTracers</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ZeroNegativeTracers(; exclude = ())</code></pre><p>Construct a modifier that zeroes any negative tracers excluding those listed in <code>exclude</code>.</p><div class="admonition is-danger" id="Tracer-conservation-b90167f32c396219"><header class="admonition-header">Tracer conservation<a class="admonition-anchor" href="#Tracer-conservation-b90167f32c396219" title="Permalink"></a></header><div class="admonition-body"><p>This method is <em>not</em> recommended as a way to preserve positivity of tracers since it does not conserve the total tracer.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Utils/negative_tracers.jl#L11-L19">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Biogeochemistry-Tuple{Any}"><a class="docstring-binding" href="#OceanBioME.Biogeochemistry-Tuple{Any}"><code>OceanBioME.Biogeochemistry</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Biogeochemistry(underlying_biogeochemistry;
                light_attenuation = nothing,
                sediment = nothing,
                particles = nothing,
                modifiers = nothing)</code></pre><p>Construct a biogeochemical model based on <code>underlying_biogeochemistry</code> which may have a <code>light_attenuation</code> model, <code>sediment</code>, <code>particles</code>, and <code>modifiers</code>.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>light_attenuation</code>: light attenuation model which integrated the attenuation of available light</li><li><code>sediment_model</code>: slot for <code>AbstractSediment</code></li><li><code>particles</code>: slot for <code>BiogeochemicalParticles</code></li><li><code>modifiers</code>: slot for components which modify the biogeochemistry when the tendencies have been calculated or when the state is updated</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/OceanBioME.jl#L81-L98">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.conserved_tracers-Tuple{Union{OceanBioME.ContinuousBiogeochemistry, OceanBioME.DiscreteBiogeochemistry}, Vararg{Any}}"><a class="docstring-binding" href="#OceanBioME.conserved_tracers-Tuple{Union{OceanBioME.ContinuousBiogeochemistry, OceanBioME.DiscreteBiogeochemistry}, Vararg{Any}}"><code>OceanBioME.conserved_tracers</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">conserved_tracers(model::UnderlyingBiogeochemicalModel, args...; kwargs...)</code></pre><p>Returns the names of tracers which together are conserved in <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/OceanBioME.jl#L195-L199">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.redfield-NTuple{6, Any}"><a class="docstring-binding" href="#OceanBioME.redfield-NTuple{6, Any}"><code>OceanBioME.redfield</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">redfield(i, j, k, val_tracer_name, bgc, tracers)</code></pre><p>Returns the redfield ratio of <code>tracer_name</code> from <code>bgc</code> at <code>i</code>, <code>j</code>, <code>k</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/OceanBioME.jl#L174-L178">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.redfield-Tuple{Any, Any}"><a class="docstring-binding" href="#OceanBioME.redfield-Tuple{Any, Any}"><code>OceanBioME.redfield</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">redfield(val_tracer_name, bgc)
redfield(val_tracer_name, bgc, tracers)</code></pre><p>Returns the redfield ratio of <code>tracer_name</code> from <code>bgc</code> when it is constant across the domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/OceanBioME.jl#L181-L186">source</a></section></details></article><h2 id="Biogeochemical-Models"><a class="docs-heading-anchor" href="#Biogeochemical-Models">Biogeochemical Models</a><a id="Biogeochemical-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Biogeochemical-Models" title="Permalink"></a></h2><h3 id="Nutrient-Phytoplankton-Zooplankton-Detritus-(NPZD)"><a class="docs-heading-anchor" href="#Nutrient-Phytoplankton-Zooplankton-Detritus-(NPZD)">Nutrient Phytoplankton Zooplankton Detritus (NPZD)</a><a id="Nutrient-Phytoplankton-Zooplankton-Detritus-(NPZD)-1"></a><a class="docs-heading-anchor-permalink" href="#Nutrient-Phytoplankton-Zooplankton-Detritus-(NPZD)" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OceanBioME.Models.NPZDModel"><a class="docstring-binding" href="#OceanBioME.Models.NPZDModel"><code>OceanBioME.Models.NPZDModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Nutrient-Phytoplankton-Zooplankton-Detritus model of <a href="../../references/#Kuhn2015">Kuhn <em>et al.</em> (2015)</a>.</p><p><strong>Tracers</strong></p><ul><li>Nutrients: N (mmol N/m³)</li><li>Phytoplankton: P (mmol N/m³)</li><li>Zooplankton: Z (mmol N/m³)</li><li>Detritus: D (mmol N/m³)</li></ul><p><strong>Required submodels</strong></p><ul><li>Photosynthetically available radiation: PAR (W/m²)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/NPZD.jl#L1-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.NPZDModel.NutrientPhytoplanktonZooplanktonDetritus-Union{Tuple{}, Tuple{M}, Tuple{P}, Tuple{S}, Tuple{LA}, Tuple{FT}} where {FT, LA, S, P, M}"><a class="docstring-binding" href="#OceanBioME.Models.NPZDModel.NutrientPhytoplanktonZooplanktonDetritus-Union{Tuple{}, Tuple{M}, Tuple{P}, Tuple{S}, Tuple{LA}, Tuple{FT}} where {FT, LA, S, P, M}"><code>OceanBioME.Models.NPZDModel.NutrientPhytoplanktonZooplanktonDetritus</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">NutrientPhytoplanktonZooplanktonDetritus(; grid::AbstractGrid{FT},
                                           initial_photosynthetic_slope::FT = 0.1953 / day, # 1/(W/m²)/s
                                           base_maximum_growth::FT = 0.6989 / day, # 1/s
                                           nutrient_half_saturation::FT = 2.3868, # mmol N/m³
                                           base_respiration_rate::FT = 0.066 / day, # 1/s/(mmol N / m³)
                                           phyto_base_mortality_rate::FT = 0.0101 / day, # 1/s/(mmol N / m³)
                                           maximum_grazing_rate::FT = 2.1522 / day, # 1/s
                                           grazing_half_saturation::FT = 0.5573, # mmol N/m³
                                           assimulation_efficiency::FT = 0.9116, 
                                           base_excretion_rate::FT = 0.0102 / day, # 1/s/(mmol N / m³)
                                           zoo_base_mortality_rate::FT = 0.3395 / day, # 1/s/(mmol N / m³)²
                                           remineralization_rate::FT = 0.1213 / day, # 1/s

                                           surface_photosynthetically_active_radiation = default_surface_PAR,
                                           light_attenuation::LA =
                                               TwoBandPhotosyntheticallyActiveRadiation(; grid,
                                                                                          surface_PAR = surface_photosynthetically_active_radiation),
                                           sediment::S = nothing,
            
                                           sinking_speeds = (P = 0.2551/day, D = 2.7489/day),
                                           open_bottom::Bool = true,

                                           scale_negatives = false,
                                                                                  
                                           particles::P = nothing,
                                           modifiers::M = nothing)</code></pre><p>Construct a Nutrient-Phytoplankton-Zooplankton-Detritus (<a href="../../model_components/biogeochemical/NPZ/#NPZD">NPZD</a>) biogeochemical model.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>grid</code>: (required) the geometry to build the model on, required to calculate sinking</li><li><code>initial_photosynthetic_slope</code>, ..., <code>remineralization_rate</code>: NPZD parameter values</li><li><code>surface_photosynthetically_active_radiation</code>: function (or array in the future) for the photosynthetically available radiation at the surface, should be shape <code>f(x, y, t)</code></li><li><code>light_attenuation</code>: light attenuation model which integrated the attenuation of available light</li><li><code>sediment</code>: slot for <code>BiogeochemicalSediment</code></li><li><code>sinking_speed</code>: named tuple of constant sinking, of fields (i.e. <code>ZFaceField(...)</code>) for any tracers which sink (convention is that a sinking speed is positive, but a field will need to follow the usual down being negative)</li><li><code>open_bottom</code>: should the sinking velocity be smoothly brought to zero at the bottom to prevent the tracers leaving the domain</li><li><code>scale_negatives</code>: scale negative tracers?</li><li><code>particles</code>: slot for <code>BiogeochemicalParticles</code></li><li><code>modifiers</code>: slot for components which modify the biogeochemistry when the tendencies have been calculated or when the state is updated</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using OceanBioME

julia&gt; using Oceananigans

julia&gt; grid = RectilinearGrid(size=(20, 30), extent=(200, 200), topology=(Bounded, Flat, Bounded));

julia&gt; model = NutrientPhytoplanktonZooplanktonDetritus(; grid)
NutrientPhytoplanktonZooplanktonDetritus{Float64} model, with (:P, :D) sinking 
 Light attenuation: Two-band light attenuation model (Float64)
 Sediment: Nothing
 Particles: Nothing
 Modifiers: Nothing</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/NPZD.jl#L94-L155">source</a></section></details></article><h3 id="The-Lodyc-DAMTP-Ocean-Biogeochemical-Simulation-Tools-for-Ecosystem-and-Resources-(LOBSTER)"><a class="docs-heading-anchor" href="#The-Lodyc-DAMTP-Ocean-Biogeochemical-Simulation-Tools-for-Ecosystem-and-Resources-(LOBSTER)">The Lodyc-DAMTP Ocean Biogeochemical Simulation Tools for Ecosystem and Resources (LOBSTER)</a><a id="The-Lodyc-DAMTP-Ocean-Biogeochemical-Simulation-Tools-for-Ecosystem-and-Resources-(LOBSTER)-1"></a><a class="docs-heading-anchor-permalink" href="#The-Lodyc-DAMTP-Ocean-Biogeochemical-Simulation-Tools-for-Ecosystem-and-Resources-(LOBSTER)" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel"><code>OceanBioME.Models.LOBSTERModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>The Lodyc-DAMTP Ocean Biogeochemical Simulation Tools for Ecosystem and Resources (LOBSTER) model.</p><p>LOBSTER is an NPZD type model with multiple nutrients and detritus pools. In the default configuration there is one phytoplankton and one zooplankton, nitrate and ammonia, and small, large, and dissovled detritus.</p><p>Optionally it can also include iron (which limits phytoplankton growth), the carbonate system (DIC and alkalinity), oxygen, and variable N:C ratio detritus where each of dissolved, small, and large particles have both  nitrogen and carbon compartements.</p><p><strong>Required submodels</strong></p><ul><li>Photosynthetically available radiation: PAR (W/m²)</li></ul><p>When carbonate system is active:</p><ul><li>Temperature: T (ᵒC)</li><li>Salinity: S (‰)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/LOBSTER.jl#L1-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.CarbonateSystem"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.CarbonateSystem"><code>OceanBioME.Models.LOBSTERModel.CarbonateSystem</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CarbonateSystem</code></pre><p><code>CarbonateSystem</code> defines the carbonate system for the <code>LOBSTER</code> biogeochemical model and evolves dissolved inorganic carbon (<code>DIC</code>) and alkalinity (<code>Alk</code>). <code>DIC</code> is the total inorganic carbon, typically considered to be dissolved  carbon dioxide, carbonic acid, bicarbonate, and carbonate. <code>Alk</code>alinity is  the buffering capacity of the water which is approximatly the amount of bases in solution that can be neutralised by the addition of acid so is approximatly the sum of non-conserved ions such as carbonate, bicarbonate, hydroxide ions, etc.</p><p>With this module activated the carbon budget can be closed as the flux of carbon into the biology and detritus comes from the DIC. Additionally, the flux in/out  of the water from the air can be computed via the <code>CarbonChemistry</code> module.</p><p><code>DIC</code> is produced by remineralisation of organic matter, for example the breakdown of detritus or excretion from zooplankton waste. It is also produced by the  dissolution of calcite in the zooplankton gut. It is removed by photosynthesis in phytoplankton.</p><p><code>Alk</code>alinity is produced (by the removal of nitrose acid (?)), and removed by the uptake of calcite into phytoplankton.</p><p><code>DIC</code> and <code>Alk</code> concentration is only one way coupled with the rest of the  biogeochemistry and <em>does not</em> effect any other groups (e.g. acidifcation does not effect phytoplankton growth). To capture this effect a different <code>biology</code>  could be defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/carbonate_system.jl#L1-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.LOBSTER-Tuple{}"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.LOBSTER-Tuple{}"><code>OceanBioME.Models.LOBSTERModel.LOBSTER</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">LOBSTER(; grid

          nutrients = NitrateAmmonia(),
          biology = PhytoZoo(),
          detritus = TwoParticleAndDissolved(grid),
          carbonate_system = nothing,
          oxygen = nothing,

          surface_photosynthetically_active_radiation = default_surface_PAR,

          light_attenuation =
                TwoBandPhotosyntheticallyActiveRadiation(; grid, 
                                                           surface_PAR = surface_photosynthetically_active_radiation),
            
          sediment = nothing,

          scale_negatives = false,
          invalid_fill_value = NaN,

          particles = nothing,
          modifiers = nothing)</code></pre><p>Construct an instance of the <a href="../../model_components/biogeochemical/LOBSTER/#LOBSTER">LOBSTER</a> biogeochemical model.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>grid</code>: (required) the geometry to build the model on, required to configure sinking speeds</li><li><code>nutrients</code>: nutrint component, defaults to <code>NitrateAmmonia</code> which has nitrate (<code>NO₃</code>) and ammonia (<code>NH₄</code>),</li></ul><p>currently <code>NitrateAmmoniaIron</code> is the alternative which includes iron (<code>Fe</code>)</p><ul><li><code>biology</code>: biological (living) component, defaults to <code>PhytoZoo</code> which has phytoplankton (<code>P</code>) and zooplankton (<code>Z</code>)</li><li><code>detritus</code>: non-living organic component, default to <code>TwoParticlesAndDissolved</code> which has small and large </li></ul><p>particles (<code>sPOM</code> and <code>bPOM</code>) and dissolved organic (<code>DOM</code>), alternativly can be <code>VariableRedfieldDetritus</code> which has  <code>sPON</code>, <code>bPON</code>, <code>DON</code>, <code>sPOC</code>, <code>bPOC</code>, and <code>DOC</code></p><ul><li><code>carbonate_system</code>: an optional model component for the inorganic carbon components, defaults to <code>nothing</code> but</li></ul><p>can be <code>CarbonateSystem</code> which has dissolved inorganic carbon (<code>DIC</code>) and alkalinity (<code>Alk</code>)</p><ul><li><code>oxygen</code>: an optional model component for oxygen, defaults to <code>nothing</code> but can be <code>Oxygen</code> which has oxygen (<code>O₂</code>)</li><li><code>surface_photosynthetically_active_radiation</code>: funciton for the photosynthetically available radiation at the surface, should be shape <code>f(x, y, t)</code></li><li><code>light_attenuation</code>: light attenuation model which integrated the attenuation of available light</li><li><code>sediment_model</code>: slot for <code>BiogeochemicalSediment</code></li><li><code>scale_negatives</code>: scale negative tracers?</li><li><code>particles</code>: slot for <code>BiogeochemicalParticles</code></li><li><code>modifiers</code>: slot for components which modify the biogeochemistry when the tendencies have been calculated or when the state is updated</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using OceanBioME, Oceananigans

julia&gt; grid = RectilinearGrid(size=(3, 3, 30), extent=(10, 10, 200));

julia&gt; model = LOBSTER(; grid)
LOBSTER model (:NO₃, :NH₄, :P, :Z, :sPOM, :bPOM, :DOM) 
 Light attenuation: Two-band light attenuation model (Float64)
 Sediment: Nothing
 Particles: Nothing
 Modifiers: Nothing
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/LOBSTER.jl#L55-L116">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.NitrateAmmonia"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.NitrateAmmonia"><code>OceanBioME.Models.LOBSTERModel.NitrateAmmonia</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NitrateAmmonia</code></pre><p><code>NitrateAmmonia</code> defines the default nutrient component for the <code>LOBSTER</code>  biogeochemical model which includes nitrate (<code>NO₃</code>), and ammonia (<code>NH₄</code>) in mmol N / m³.</p><p>Nitrate is only taken up by the biological component (by default only the phytoplankton), and replenished by the nitrifcation of ammonia at the  <code>nitrification_rate</code>.</p><p>Ammonia is also taken up by the biological component, and lost as it is  turned into ammonia. It is replaced through waste from the biological system (phytoplankton exudation, and zooplankton excretion), and from the degredation of detritus.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/nutrients.jl#L1-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.NitrateAmmoniaIron"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.NitrateAmmoniaIron"><code>OceanBioME.Models.LOBSTERModel.NitrateAmmoniaIron</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NitrateAmmoniaIron</code></pre><p><code>NitrateAmmoniaIron</code> defines a nutrient component for the <code>LOBSTER</code>  biogeochemical model which includes nitrate (<code>NO₃</code>), and ammonia (<code>NH₄</code>) in mmol N / m³ in the same way as the <code>NitrateAmmonia</code> component, but with the addition of an iron component (<code>Fe</code>) in mmol Fe / m³.</p><p>Iron is only taken up by biological component and not replenished, as iron gets remineralised a lot slower than the nitrogen and carbon in detritus so  the iron is &quot;never&quot; returned to the biologically available pool. Instead it is usually replenished by surface deposition of dust. For example, Signorini,  et al. 2001 uses the same formulation.</p><p>Signorini, S. R., C. R. McClain, J. R. Christian, and C. S. Wong (2001),  Seasonal and interannual variability of phytoplankton, nutrients, TCO2, pCO2,  and O2 in the eastern subarctic Pacific (ocean weather station Papa), J.  Geophys. Res., 106(C12), 31197–31215, doi:10.1029/2000JC000343.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/nutrients.jl#L23-L41">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.Oxygen"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.Oxygen"><code>OceanBioME.Models.LOBSTERModel.Oxygen</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Oxygen</code></pre><p><code>Oxygen</code> defines the evolution of oxygen (<code>O₂</code>) concentration for the <code>LOBSTER</code> biogeochemical model. </p><p>Oxygen is produced by photosynthesis in phytoplankton, and removed by nitrate  production and oxidation of ammonia.</p><p>Oxygen concentration is only one way coupled with the rest of the biogeochemistry and <em>does not</em> effect any other groups (e.g. low oxygen does <em>not</em> reduce zooplankton growth). To capture this effect a different <code>biology</code> could be defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/oxygen.jl#L1-L13">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.PhytoZoo"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.PhytoZoo"><code>OceanBioME.Models.LOBSTERModel.PhytoZoo</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PhytoZoo</code></pre><p><code>PhytoZoo</code> defines the default living component for the <code>LOBSTER</code> biogeochemical model. It includes single <code>P</code>hytoplankton and <code>Z</code>ooplankton tracers which track the  nitrogen (mmol N / m³). </p><p>The phytoplankton evolve like <code>∂ₜP = (1-γ)μP - Gₚ - mP²</code> where μ is the growth rate (1/s) which is of the form <code>phytoplankton_maximum_growth_rate</code> × light limitation × nutrient  limitation. The <code>nutrient_limitation</code> term can be extended to account for different  <code>nutrient</code> formulations. The <code>(1-γ)</code> term is the assimilated fraction. <code>Gₚ</code> accounts for  grazing by the zooplankton, and <code>m</code> is the quadratic mortality rate (1/s/mmol N/m³).</p><p>The zooplankton evolves like <code>∂ₜZ = αG - mZ² - μZ</code> where <code>G</code> is the total grazing of  phytoplankton and detritus with <code>α</code> the fraction assimilated, <code>m</code> is the quadratic  mortality rate, and <code>μ</code> is the linear mortality rate taken to represent the excretion  rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/biology.jl#L1-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.TwoParticleAndDissolved"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.TwoParticleAndDissolved"><code>OceanBioME.Models.LOBSTERModel.TwoParticleAndDissolved</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TwoParticleAndDissolved</code></pre><p><code>TwoParticleAndDissolved</code> defines the default living component for the <code>LOBSTER</code>  biogeochemical model. It includes small and large particulate organic matter  (<code>sPOM</code> and <code>bPOM</code>), and dissolved organic matter (<code>DOM</code>).</p><p><code>POM</code> is produced by &quot;waste&quot; from the biological system (e.g. excretion from zooplankton or phytoplankton death) and is portioned into <code>sPOM</code> and <code>bPOM</code>  as by the <code>small_solid_waste_fraction</code> parameter. <code>sPOM</code> is depleated by grazing by the <code>biology</code> (typically the zooplankton), and is remineralised. Calcite  produced by the <code>biology</code> (from phytoplankton mortality) is assumed to all end up in <code>bPOM</code>. </p><p><code>DOM</code> is produced by the biological system (e.g. excretion) and the breakdown of  <code>POM</code>, and is broken down at a constant remineralisation rate. </p><p>Note: we refer to the particle classes as &quot;small&quot; and &quot;large&quot;, but label them  <code>sPOM</code> and <code>bPOM</code> for &quot;small&quot; and &quot;big&quot; as using <code>lPOM</code> may be confused for labile <code>POM</code>. We agree that this is a clumsy solution and would be happy to find an alternative.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/detritus.jl#L3-L24">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.TwoParticleAndDissolved-Tuple{Any}"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.TwoParticleAndDissolved-Tuple{Any}"><code>OceanBioME.Models.LOBSTERModel.TwoParticleAndDissolved</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">TwoParticleAndDissolved(grid; 
                        small_particle_sinking_speed = 3.47e-5, # m/s
                        large_particle_sinking_speed = 200/day, # m/s
                        open_bottom = true,
                        kwargs...)</code></pre><p>Construct an instance of <code>TwoParticleAndDissolved</code> specifying the  <code>small_particle_sinking_speed</code> and <code>large_particle_sinking_speed</code>. If <code>open_bottom</code> is true then particles sink out of the bottom, if false then the sinking velocity  smoothly goes to zero at the bottom to prevent the tracers leaving the domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/detritus.jl#L209-L220">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.VariableRedfieldDetritus"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.VariableRedfieldDetritus"><code>OceanBioME.Models.LOBSTERModel.VariableRedfieldDetritus</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">VariableRedfieldDetritus</code></pre><p><code>VariableRedfieldDetritus</code> defines builds on the default <code>TwoParticleAndDissolved</code> component for the <code>LOBSTER</code> biogeochemical model, splitting each component into  separate carbon and nitrogen compartements: <code>sPOC</code>, <code>bPOC</code>, <code>DOC</code>, <code>sPON</code>, <code>bPON</code>, and <code>DON</code>. </p><p>Standing alone this will produce identical behavior to the <code>TwoParticleAndDissolved</code> formulation, but if particles are injected with a different C:N ratio (for example) from the <code>SugarKelp</code> model, then the ratio will evolve differently.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/detritus.jl#L59-L70">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.LOBSTERModel.VariableRedfieldDetritus-Tuple{Any}"><a class="docstring-binding" href="#OceanBioME.Models.LOBSTERModel.VariableRedfieldDetritus-Tuple{Any}"><code>OceanBioME.Models.LOBSTERModel.VariableRedfieldDetritus</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">VariableRedfieldDetritus(grid; 
                         small_particle_sinking_speed = 3.47e-5, # m/s
                         large_particle_sinking_speed = 200/day, # m/s
                         open_bottom = true,
                         kwargs...)</code></pre><p>Construct an instance of <code>TwoParticleAndDissolved</code> specifying the  <code>small_particle_sinking_speed</code> and <code>large_particle_sinking_speed</code>. If <code>open_bottom</code> is true then particles sink out of the bottom, if false then the sinking velocity  smoothly goes to zero at the bottom to prevent the tracers leaving the domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/LOBSTER/detritus.jl#L234-L245">source</a></section></details></article><h3 id="Pelagic-Interactions-Scheme-for-Carbon-and-Ecosystem-Studies-(PISCES)"><a class="docs-heading-anchor" href="#Pelagic-Interactions-Scheme-for-Carbon-and-Ecosystem-Studies-(PISCES)">Pelagic Interactions Scheme for Carbon and Ecosystem Studies (PISCES)</a><a id="Pelagic-Interactions-Scheme-for-Carbon-and-Ecosystem-Studies-(PISCES)-1"></a><a class="docs-heading-anchor-permalink" href="#Pelagic-Interactions-Scheme-for-Carbon-and-Ecosystem-Studies-(PISCES)" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel"><code>OceanBioME.Models.PISCESModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Pelagic Interactions Scheme for Carbon and Ecosystem Studies (PISCES) model.</p><p>This is <em>not</em> currently an official version supported by the PISCES community and is not yet verified to be capable of producing results mathcing that of the  operational PISCES configuration. This is a work in progress, please open an  issue or discusison if you&#39;d like to know more.</p><p><strong>Notes to developers</strong></p><p>Part of the vision for this implementation of PISCES is to harness the features of Julia that would allow it to be fully modular. An obvious step to improve the ease of this would be to do some minor refactoring to group the phytoplankton  classes, and zooplankton classes together, and for the other groups to generically  call the whole lot. This may cause some issues with argument passing, and although it may not be the best way todo it my first thought is to pass them round as named tuples built from something like,</p><pre><code class="language-julia hljs">phytoplankton_tracers = phytoplankton_arguments(bgc.phytoplankton, args...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/PISCES.jl#L1-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.DepthDependantSinkingSpeed"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.DepthDependantSinkingSpeed"><code>OceanBioME.Models.PISCESModel.DepthDependantSinkingSpeed</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DepthDependantSinkingSpeed(; minimum_speed = 30/day,
                             maximum_speed = 200/day,
                             maximum_depth = 500)</code></pre><p>Returns sinking speed for particles which sink at <code>minimum_speed</code> in the surface ocean (the deepest of the mixed and euphotic layers), and accelerate to <code>maximum_speed</code> below that depth and <code>maximum_depth</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/common.jl#L30-L38">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.ModelLatitude"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.ModelLatitude"><code>OceanBioME.Models.PISCESModel.ModelLatitude</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ModelLatitude</code></pre><p>Returns the latitude specified by the model grid (<code>y</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/common.jl#L8-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.PISCES-Tuple{}"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.PISCES-Tuple{}"><code>OceanBioME.Models.PISCESModel.PISCES</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">PISCES(; grid::AbstractGrid{FT},
         phytoplankton = MixedMondoNanoAndDiatoms(),
         zooplankton = MicroAndMesoZooplankton(),
         dissolved_organic_matter = DissolvedOrganicCarbon(),
         particulate_organic_matter = TwoCompartementCarbonIronParticles(),
         
         nitrogen = NitrateAmmonia(),
         iron = SimpleIron(),
         silicate = Silicate(),
         oxygen = Oxygen(),
         phosphate = Phosphate(),
         
         inorganic_carbon = InorganicCarbon(),

         # from Aumount 2005 rather than 2015 since it doesn&#39;t work the other way around
         first_anoxia_thresehold = 6.0,
         second_anoxia_thresehold = 1.0,

         nitrogen_redfield_ratio = 16/122,
         phosphate_redfield_ratio = 1/122,
         
         mixed_layer_shear = 1.0,
         background_shear = 0.01, 
         
         latitude = PrescribedLatitude(45),
         day_length = day_length_function,
         
         mixed_layer_depth = Field{Center, Center, Nothing}(grid),
         euphotic_depth = Field{Center, Center, Nothing}(grid),

         silicate_climatology = ConstantField(7.5),

         mean_mixed_layer_vertical_diffusivity = Field{Center, Center, Nothing}(grid),
         mean_mixed_layer_light = Field{Center, Center, Nothing}(grid),

         carbon_chemistry = CarbonChemistry(),
         calcite_saturation = CenterField(grid),

         surface_photosynthetically_active_radiation = default_surface_PAR,

         light_attenuation =
           MultiBandPhotosyntheticallyActiveRadiation(; grid, 
                                                        surface_PAR = surface_photosynthetically_active_radiation),

         sinking_speeds = (POC = 2/day, 
                           # might be more efficient to just precompute this
                           GOC = Field(KernelFunctionOperation{Center, Center, Face}(DepthDependantSinkingSpeed(), 
                                                                                     grid, 
                                                                                     mixed_layer_depth, 
                                                                                     euphotic_depth))),
         open_bottom = true,

         scale_negatives = false,
         invalid_fill_value = NaN,
         
         sediment = nothing,
         particles = nothing,
         modifiers = nothing)</code></pre><p>Constructs an instance of the PISCES biogeochemical model.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>grid</code>: (required) the geometry to build the model on</li><li><code>phytoplankton</code>: phytoplankton evolution parameterisation, defaults to nanophyto and diatom size classes with <code>MixedMondo</code> growth</li><li><code>zooplankton</code>: zooplankton evolution parameterisation, defaults to two class <code>Z</code> and <code>M</code></li><li><code>dissolved_organic_matter</code>: parameterisaion for the evolution of dissolved organic matter (<code>DOC</code>)</li><li><code>particulate_organic_matter</code>: parameterisation for the evolution of particulate organic matter (<code>POC</code>, <code>GOC</code>, <code>SFe</code>, <code>BFe</code>, <code>PSi</code>, <code>CaCO₃</code>)</li><li><code>nitrogen</code>: parameterisation for the nitrogen compartements (<code>NH₄</code> and <code>NO₃</code>)</li><li><code>iron</code>: parameterisation for iron (<code>Fe</code>), currently the &quot;complex chemistry&quot; of Aumount 2015 is not implemented</li><li><code>silicate</code>: parameterisaion for silicate (<code>Si</code>)</li><li><code>oxygen</code>: parameterisaion for oxygen (<code>O₂</code>)</li><li><code>phosphate</code>: parameterisaion for phosphate (<code>PO₄</code>)</li><li><code>inorganic_carbon</code>: parameterisation for the evolution of the inorganic carbon system (<code>DIC</code> and <code>Alk</code>alinity)</li><li><code>first_anoxia_thresehold</code> and <code>second_anoxia_thresehold</code>: thresholds in anoxia parameterisation</li><li><code>nitrogen_redfield_ratio</code> and <code>phosphate_redfield_ratio</code>: the assumed element ratios N/C and P/C </li><li><code>mixed_layer_shear</code> and <code>background_shear</code>: the mixed layer and background shear rates, TODO: move this to a computed field</li><li><code>latitude</code>: model latitude, should be <code>PrescribedLatitude</code> for <code>RectilinearGrid</code>s and <code>ModelLatitude</code> for grids providing their own latitude</li><li><code>day_length</code>: parameterisation for day length based on time of year and latitude, you may wish to change this to (φ, t) -&gt; 1day if you  want to ignore the effect of day length, or something else if you&#39;re modelling a differen planet</li><li><code>mixed_layer_depth</code>: an <code>AbstractField</code> containing the mixed layer depth (to be computed during update state)</li><li><code>euphotic</code>: an <code>AbstractField</code> containing the euphotic depth, the depth where light reduces to 1/1000 of   the surface value (computed during update state)</li><li><code>silicate_climatology</code>: an <code>AbstractField</code> containing the silicate climatology which effects the diatoms silicate  half saturation constant</li><li><code>mean_mixed_layer_vertical_diffusivity</code>: an <code>AbstractField</code> containing the mean mixed layer vertical diffusivity   (to be computed during update state)</li><li><code>mean_mixed_layer_light</code>: an <code>AbstractField</code> containing the mean mixed layer light (computed during update state)</li><li><code>carbon_chemistry</code>: the <code>CarbonChemistry</code> model used to compute the calicte saturation</li><li><code>calcite_saturation</code>: an <code>AbstractField</code> containing the calcite saturation  (computed during update state)</li><li><code>surface_photosynthetically_active_radiation</code>: funciton for the photosynthetically available radiation at the surface</li><li><code>light_attenuation</code>: light attenuation model which integrated the attenuation of available light</li><li><code>sinking_speed</code>: named tuple of constant sinking speeds, or fields (i.e. <code>ZFaceField(...)</code>) for any tracers which sink  (convention is that a sinking speed is positive, but a field will need to follow the usual down being negative)</li><li><code>open_bottom</code>: should the sinking velocity be smoothly brought to zero at the bottom to prevent the tracers leaving the domain</li><li><code>scale_negatives</code>: scale negative tracers?</li><li><code>particles</code>: slot for <code>BiogeochemicalParticles</code></li><li><code>modifiers</code>: slot for components which modify the biogeochemistry when the tendencies have been calculated or when the state is updated</li></ul><p>All parameterisations default to the operaitonal version of PISCES as close as possible.</p><p><strong>Notes</strong></p><p>Currently only <code>MixedMondoPhytoplankton</code> are implemented, and some work should be done to generalise the classes to a single <code>phytoplankton</code> if more classes are required (see  <code>OceanBioME.Models.PISCESModel</code> docstring). Similarly, if a more generic <code>particulate_organic_matter</code> was desired a way to specify arbitary tracers for arguments would be required.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/PISCES.jl#L177-L287">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.PrescribedLatitude"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.PrescribedLatitude"><code>OceanBioME.Models.PISCESModel.PrescribedLatitude</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PrescribedLatitude</code></pre><p>Returns the prescribed latitude rather than the model grid <code>y</code> position.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/common.jl#L15-L19">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.DissolvedOrganicMatter.DissolvedOrganicCarbon"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.DissolvedOrganicMatter.DissolvedOrganicCarbon"><code>OceanBioME.Models.PISCESModel.DissolvedOrganicMatter.DissolvedOrganicCarbon</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DissolvedOrganicCarbon</code></pre><p>Parameterisation of dissolved organic matter which depends on a bacterial  concentration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/dissolved_organic_matter/dissolved_organic_carbon.jl#L3-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.ParticulateOrganicMatter.TwoCompartementCarbonIronParticles"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.ParticulateOrganicMatter.TwoCompartementCarbonIronParticles"><code>OceanBioME.Models.PISCESModel.ParticulateOrganicMatter.TwoCompartementCarbonIronParticles</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TwoCompartementCarbonIronParticles</code></pre><p>A quota parameterisation for particulate organic matter with two size classes, each with carbon and iron compartements, and a silicate compartement for the large size class.</p><p>Confusingly we decided to name these compartmenets <code>POC</code> and <code>GOC</code> for the small and large carbon classes, <code>SFe</code> and <code>BFe</code> for the small and  ̶l̶a̶r̶g̶e̶ big iron  compartements, and <code>PSi</code> for the  ̶l̶a̶r̶g̶e̶ particulate silicon (<em>not</em> the  phytoplankton silicon).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/particulate_organic_matter/two_size_class.jl#L5-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Iron.SimpleIron"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Iron.SimpleIron"><code>OceanBioME.Models.PISCESModel.Iron.SimpleIron</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SimpleIron(; excess_scavenging_enhancement = 1000)</code></pre><p>Parameterisation for iron evolution, not the &quot;complex chemistry&quot; model of Aumount et al, 2015. Iron is scavenged (i.e. perminemtly removed from the model) when the free iron concentration exeeds the ligand concentration at a rate modified by <code>excess_scavenging_enhancement</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/iron/simple_iron.jl#L1-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.InorganicCarbons.InorganicCarbon"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.InorganicCarbons.InorganicCarbon"><code>OceanBioME.Models.PISCESModel.InorganicCarbons.InorganicCarbon</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">InorganicCarbon</code></pre><p>Default parameterisation for <code>DIC</code><code>and</code>Alk`alinity evolution. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/inorganic_carbon.jl#L21-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Zooplankton.QualityDependantZooplankton"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Zooplankton.QualityDependantZooplankton"><code>OceanBioME.Models.PISCESModel.Zooplankton.QualityDependantZooplankton</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QualityDependantZooplankton</code></pre><p>The PISCES zooplankton growth model where each class has preferences for grazing on nanophytoplankton (P), diatoms (D), microzooplankton (Z), and particulate organic matter (POC), and can flux feed on sinking  particulates (POC and GOC).</p><p>This model assumes a fixed ratio for all other elements (i.e. N, P, Fe).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/zooplankton/food_quality_dependant.jl#L1-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Phytoplankton.GrowthRespirationLimitedProduction"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Phytoplankton.GrowthRespirationLimitedProduction"><code>OceanBioME.Models.PISCESModel.Phytoplankton.GrowthRespirationLimitedProduction</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NutrientLimitedProduction</code></pre><p><code>BaseProduction</code> with light limitation moderated by nutrient availability. This is the &quot;new production&quot; PISCES phytoplankton growth rate model. Growth rate is of the form:</p><p class="math-container">\[μ = μ₁f₁(τ)f₂(zₘₓₗ)(1-exp(-α θᶜʰˡ PAR / τ (bᵣ + μᵣ))) L.\]</p><p><strong>Keyword Arguments</strong></p><ul><li><code>base_growth_rate</code>: the base growth rate, μ₀, in (1/s)</li><li><code>temperatrue_sensetivity</code>: temperature sensetivity parameter, b, giving μ₁ = μ₀ bᵀ where T is temperature</li><li><code>dark_tollerance</code>: the time that the phytoplankton survives in darkness below the euphotic layer, τᵈ (s)</li><li><code>initial_slope_of_PI_curve</code>: the relationship between photosynthesis and irradiance, α₀ (1/W/m²)</li><li><code>low_light_adaptation</code>: factor increasing the sensetivity of photosynthesis to irradiance, β,  giving α = α₀(1 + exp(-PAR)), typically set to zero</li><li><code>basal_respiration_rate</code>: reference respiration rate, bᵣ (1/s)</li><li><code>reference_growth_rate</code>: reference growth rate, μᵣ (1/s)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/phytoplankton/growth_rate.jl#L85-L106">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Phytoplankton.MixedMondo"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Phytoplankton.MixedMondo"><code>OceanBioME.Models.PISCESModel.Phytoplankton.MixedMondo</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MixedMondo</code></pre><p>Holds the parameters for the PISCES mixed mondo phytoplankton  parameterisation where nutrient limitation is modelled using the mondo approach for nitrate (NO₃), ammonia (NH₄), phosphate (PO₄), and silicate (Si), but the quota approach is used for iron (Fe)  and light (PAR).</p><p>Therefore each class has a carbon compartement (generically <code>I</code>), chlorophyll (<code>IChl</code>), and iron (<code>IFe</code>), and may also have silicate (<code>ISi</code>) if the <code>nutrient_limitation</code> specifies that the growth is silicate limited, despite the fact that the silicate still limits  the growth in a mondo fashion.</p><p>The <code>growth_rate</code> may be different parameterisations, currently  either <code>NutrientLimitedProduction</code> or  <code>GrowthRespirationLimitedProduction</code>, which represent the typical and <code>newprod</code> versions of PISCES.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/phytoplankton/mixed_mondo.jl#L3-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Phytoplankton.NitrogenIronPhosphateSilicateLimitation"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Phytoplankton.NitrogenIronPhosphateSilicateLimitation"><code>OceanBioME.Models.PISCESModel.Phytoplankton.NitrogenIronPhosphateSilicateLimitation</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NitrogenIronPhosphateSilicateLimitation</code></pre><p>Holds the parameters for growth limitation by nitrogen (NO₃ and NH₄), iron (Fe), phosphate PO₄, and (optionally) silicate (Si) availability.</p><p>Silicate limitation may be turned off (e.g. for nanophytoplankton) by setting <code>silicate_limited=false</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/phytoplankton/nutrient_limitation.jl#L1-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Phytoplankton.NutrientLimitedProduction"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Phytoplankton.NutrientLimitedProduction"><code>OceanBioME.Models.PISCESModel.Phytoplankton.NutrientLimitedProduction</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NutrientLimitedProduction</code></pre><p><code>BaseProduction</code> with light limitation moderated by nutrient availability. This is the &quot;origional&quot; PISCES phytoplankton growth rate model. Growth rate is of the form:</p><p class="math-container">\[μ = μ₁f₁(τᵈ)f₂(zₘₓₗ)(1-exp(-α θᶜʰˡ PAR / τ μ₀ L)) L.\]</p><p><strong>Keyword Arguments</strong></p><ul><li><code>base_growth_rate</code>: the base growth rate, μ₀, in (1/s)</li><li><code>temperatrue_sensetivity</code>: temperature sensetivity parameter, b, giving μ₁ = μ₀ bᵀ where T is temperature</li><li><code>dark_tollerance</code>: the time that the phytoplankton survives in darkness below the euphotic layer, τᵈ (s)</li><li><code>initial_slope_of_PI_curve</code>: the relationship between photosynthesis and irradiance, α₀ (1/W/m²)</li><li><code>low_light_adaptation</code>: factor increasing the sensetivity of photosynthesis to irradiance, β,  giving α = α₀(1 + exp(-PAR)), typically set to zero</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/phytoplankton/growth_rate.jl#L49-L68">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.PISCESModel.Nitrogen.NitrateAmmonia"><a class="docstring-binding" href="#OceanBioME.Models.PISCESModel.Nitrogen.NitrateAmmonia"><code>OceanBioME.Models.PISCESModel.Nitrogen.NitrateAmmonia</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NitrateAmmonia</code></pre><p>A parameterisation for the evolution of nitrate (<code>NO₃</code>) and ammonia (<code>NH₄</code>) where ammonia can be <code>nitrif</code>ied into nitrate, nitrate and ammonia are supplied by the bacterial degredation of dissolved organic matter, and consumed by  phytoplankton. Additionally waste produces ammonia through various means.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/AdvectedPopulations/PISCES/nitrogen/nitrate_ammonia.jl#L1-L9">source</a></section></details></article><h3 id="Sugar-kelp-(Saccharina-latissima)"><a class="docs-heading-anchor" href="#Sugar-kelp-(Saccharina-latissima)">Sugar kelp (Saccharina latissima)</a><a id="Sugar-kelp-(Saccharina-latissima)-1"></a><a class="docs-heading-anchor-permalink" href="#Sugar-kelp-(Saccharina-latissima)" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SugarKelpModel"><a class="docstring-binding" href="#OceanBioME.Models.SugarKelpModel"><code>OceanBioME.Models.SugarKelpModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Sugar kelp model of <a href="../../references/#Broch2012">Broch and Slagstad (2012)</a> and updated by <a href="../../references/#Broch2013">Broch <em>et al.</em> (2013)</a>, <a href="../../references/#Fossberg2018">Fossberg <em>et al.</em> (2018)</a>, and <a href="../../references/#Broch2019">Broch <em>et al.</em> (2019)</a>.</p><p><strong>Prognostic properties</strong></p><ul><li>Area: A (dm²)</li><li>Nitrogen reserve: N (gN/gSW)</li><li>Carbon reserve: C (gC/gSW)</li></ul><p><strong>Tracer dependencies</strong></p><ul><li>Nitrates: NO₃ (mmol N/m³)</li><li>Ammonia: NH₄ (mmol N/m³)</li><li>Photosynthetically available radiation: PAR (einstein/m²/day)</li><li>Temperature: T (°C)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Individuals/SugarKelp/SugarKelp.jl#L1-L17">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SugarKelpModel.SugarKelp"><a class="docstring-binding" href="#OceanBioME.Models.SugarKelpModel.SugarKelp"><code>OceanBioME.Models.SugarKelpModel.SugarKelp</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SugarKelp</code></pre><p>Defines the parameters for <code>SugarKelp</code> biogeochemistry.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Individuals/SugarKelp/SugarKelp.jl#L30-L34">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SugarKelpModel.SugarKelpParticles-Union{Tuple{Any}, Tuple{FT}} where FT"><a class="docstring-binding" href="#OceanBioME.Models.SugarKelpModel.SugarKelpParticles-Union{Tuple{Any}, Tuple{FT}} where FT"><code>OceanBioME.Models.SugarKelpModel.SugarKelpParticles</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">SugarKelpParticles(n; grid, kelp_parameters = NamedTuple(), kwargs...)</code></pre><p>Sets up <code>n</code> sugar kelp <code>BiogeochemicalParticles</code> with default parameters except those specified in <code>kelp_parameters</code>. <code>kwagrs</code> are passed onto <code>BiogeochemicalParticles</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Individuals/SugarKelp/SugarKelp.jl#L159-L164">source</a></section></details></article><h3 id="Carbon-Chemistry"><a class="docs-heading-anchor" href="#Carbon-Chemistry">Carbon Chemistry</a><a id="Carbon-Chemistry-1"></a><a class="docs-heading-anchor-permalink" href="#Carbon-Chemistry" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel"><code>OceanBioME.Models.CarbonChemistryModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><p><code>CarbonChemistryModel</code> to solve chemical equilibrium parameterisations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/CarbonChemistry.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.CarbonChemistry"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.CarbonChemistry"><code>OceanBioME.Models.CarbonChemistryModel.CarbonChemistry</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CarbonChemistry(FT = Float64; 
                ionic_strength = IonicStrength(),
                solubility = K0(),
                carbonic_acid = (K1 = K1(), K2 = K2()),
                boric_acid = KB(),
                water = KW(),
                sulfate = KS(; ionic_strength),
                fluoride = KF(; ionic_strength),
                phosphoric_acid = (KP1 = KP1(), KP2 = KP2(), KP3 = KP3()),
                silicic_acid = KSi(; ionic_strength),
                calcite_solubility = KSP_calcite(),
                density_function = teos10_polynomial_approximation,
                first_virial_coefficient = PolynomialVirialCoefficientForCarbonDioxide(),
                cross_viral_coefficient = CrossVirialCoefficientForCarbonDioxide(),
                solver = NewtonRaphsonSolver())</code></pre><p>Carbon chemistry model capable of solving for sea water pCO₂ from DIC and  total alkalinity or DIC and pH. </p><p>Default form from Dickson, A.G., Sabine, C.L. and  Christian, J.R. (2007),  Guide to Best Practices for Ocean CO 2 Measurements. PICES Special Publication 3, 191 pp.</p><p>See each parameters documentation for origional sources.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using OceanBioME

julia&gt; carbon_chemistry = CarbonChemistry()
`CarbonChemistry` model which solves for pCO₂ and pH

julia&gt; pCO₂ = carbon_chemistry(; DIC = 2000.0, Alk = 2000.0, T = 10.0, S = 35.0)
1308.1474527899106

julia&gt; pH = carbon_chemistry(; DIC = 2000.0, Alk = 2000.0, T = 10.0, S = 35.0, output = Val(:pHᶠ))
7.502532746463654

julia&gt; pCO₂_higher_pH = carbon_chemistry(; DIC = 2000.0, T = 10.0, S = 35.0, pH = 7.5)
1315.7136384737507
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/carbon_chemistry.jl#L21-L65">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.CarbonChemistry-Union{Tuple{}, Tuple{FT}} where FT"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.CarbonChemistry-Union{Tuple{}, Tuple{FT}} where FT"><code>OceanBioME.Models.CarbonChemistryModel.CarbonChemistry</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">(p::CarbonChemistry)(; DIC, T, S, Alk = 0, pH = nothing,
                       output = Val(:fCO₂),
                       boron = 0.000232 / 10.811 * S / 1.80655,
                       sulfate = 0.14 / 96.06 * S / 1.80655,
                       fluoride = 0.000067 / 18.9984 * S / 1.80655,
                       silicate = 0,
                       phosphate = 0,
                       initial_pH_guess = 8)</code></pre><p>Calculates <code>fCO₂</code> in sea water with <code>DIC</code>, <code>Alk</code>alinity, <code>T</code>emperature, and <code>S</code>alinity unless <code>pH</code> is specified, in which case intermediate computation of <code>pH</code> is skipped and <code>pCO₂</code> is calculated from the <code>DIC</code>, <code>T</code>, <code>S</code> and <code>pH</code>.</p><p><code>DIC</code> is expected in mmol C/m³, <code>Alk</code> meq/m³, <code>T</code> in °C, and S in PSU.</p><p>When pH is specified the free pH (i.e. -log[H⁺]) is expected.</p><p>Alternativly pCO₂, and free, total, or sea water pH may be returned by setting <code>output</code> to Val(:pCO₂), Val(:pHᶠ), Val(:pHᵗ), or Val(:pHˢ), which will return <code>X</code> in <code>Val(:X)</code> instead of fCO₂.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/carbon_chemistry.jl#L89-L110">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.IonicStrength"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.IonicStrength"><code>OceanBioME.Models.CarbonChemistryModel.IonicStrength</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">IonicStrength(; a =  19.924,
                b =  1000.0,
                c = -1.005)</code></pre><p>Parameterisation of the ionic strength of sea water.</p><pre><code class="language-julia hljs">Is(S) = aS / (b + cS)</code></pre><p>Default values from Dickson (1990, Chem. Thermodyn., 22, 113–127).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L324-L334">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.K0"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.K0"><code>OceanBioME.Models.CarbonChemistryModel.K0</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">K0(; constant = -60.2409,
     inverse_T =  93.4517 * 100,
     log_T =  23.3585,
     T² =  0.0,
     S =  0.023517,
     ST = -0.023656 / 100,
     ST² =  0.0047036 / 100^2)</code></pre><p>Parameterisation for carbon dioxide solubility equilibrium constant.</p><pre><code class="language-julia hljs">CO₂(g) ⇌ CO₂*(aq)

K₀ = [CO₂*(aq)]/f(CO₂)</code></pre><p>Default values from Weiss, R.F. (1974, Mar. Chem., 2, 203–215).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L48-L64">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.K1"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.K1"><code>OceanBioME.Models.CarbonChemistryModel.K1</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">K1(FT = Float64;
   constant =  61.2172,
   inverse_T = -3633.86,
   log_T = -9.67770,
   S =  0.011555,
   S² = -0.0001152,
   pressure_correction = PressureCorrection(FT; a₀=-25.50, a₁=0.1271, a₂=0.0, b₀=-0.00308, b₁=0.0000877))</code></pre><p>Parameterisation for aquious carbon dioxide - bicarbonate dissociation equilibrium constant.</p><pre><code class="language-julia hljs">CO₂*(aq) + H₂O ⇌ H₂CO₃ ⇌ HCO₃⁻ + H⁺

K₁ = [H⁺][HCO₃⁻]/[CO₂*]</code></pre><p>Default values from Lueker et al. (2000, Mar. Chem., 70: 105–119).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L86-L102">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.K2"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.K2"><code>OceanBioME.Models.CarbonChemistryModel.K2</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">K2(FT = Float64;
   constant = -25.9290,
   inverse_T = -471.78,
   log_T = 3.16967,
   S = 0.01781,
   S² = -0.0001122,
   pressure_correction = PressureCorrection(FT; a₀=-15.82, a₁=-0.0219, a₂=0.0, b₀=0.00113, b₁=-0.0001475))</code></pre><p>Parameterisation for bicarbonate dissociation equilibrium constant.</p><pre><code class="language-julia hljs">HCO₃⁻ ⇌ CO₃²⁻ + H⁺

K₂ = [H⁺][CO₃²⁻]/[HCO₃⁻]</code></pre><p>Default values from Lueker et al. (2000, Mar. Chem., 70: 105–119).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L132-L148">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KB"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KB"><code>OceanBioME.Models.CarbonChemistryModel.KB</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KB(FT = Float64;
   constant =  148.0248,
   inverse_T = -8966.90,
   inverse_T_sqrt_S = -2890.53,
   inverse_T_S = -77.942,
   inverse_T_sqrt_S³ =  1.728,
   inverse_T_S² = -0.0996,
   sqrt_S = 137.1942,
   S = 1.62142,
   log_T = -24.4344,
   log_T_sqrt_S = -25.085,
   S_log_T = -0.2474,
   T_sqrt_S =  0.053105,
   pressure_correction = PressureCorrection(FT; a₀=-29.48, a₁=0.1622, a₂=-0.0026080, b₀=-0.00284, b₁=0.0))</code></pre><p>Parameterisation for boric acid equilibrium with water.</p><pre><code class="language-julia hljs">B(OH)₃ + H₂O ⇌ B(OH)₄⁻ + H⁺

Kᵇ = [H⁺][B(OH)₄⁻]/[B(OH)₃]</code></pre><p>Default values from Dickson (1990, Deep-Sea Res., 37, 755–766).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L178-L201">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KF"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KF"><code>OceanBioME.Models.CarbonChemistryModel.KF</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KF(; ionic_strength = IonicStrength(),
      sulfate_constant = KS(; ionic_strength),
      constant = -9.68,
      inverse_T = 874.0,
      sqrt_S =  0.111,
      log_S = 0.0,
      log_S_KS = 0.0,
      pressure_correction = 
         PressureCorrection(; a₀=-9.78, a₁=-0.0090, a₂=-0.000942, b₀=-0.00391, b₁=0.000054))</code></pre><p>Parameterisation for hydrogen fluoride dissociation equilibrium constant.</p><pre><code class="language-julia hljs">HF ⇌ F⁻ + H⁺

Kᶠ = [H⁺][F⁻]/[HF]</code></pre><p>Default values from Perez and Fraga (1987, Mar. Chem., 21, 161–168).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L432-L450">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KP"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KP"><code>OceanBioME.Models.CarbonChemistryModel.KP</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KP(constant,
   inverse_T,
   log_T,
   sqrt_S,
   inverse_T_sqrt_S,
   S,
   inverse_T_S,
   pressure_correction)</code></pre><p>Generic equilibrium constant parameterisation of the form used by  Millero (1995, Geochim. Cosmochim. Acta, 59, 661–677) for phosphoric  acid dissociation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L497-L510">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KS"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KS"><code>OceanBioME.Models.CarbonChemistryModel.KS</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KS(; constant =  148.9652,
     inverse_T = -13847.26,
     log_T = -23.6521,
     sqrt_S = -5.977,
     inverse_T_sqrt_S =  118.67,
     log_T_sqrt_S =  1.0495,
     S = -0.01615,
     pressure_correction = 
        PressureCorrection(; a₀=-18.03, a₁=0.0466, a₂=0.000316, b₀=-0.00453, b₁=0.00009))</code></pre><p>Parameterisation for bisulfate dissociation equilibrium constant.</p><pre><code class="language-julia hljs">HSO₄⁻ ⇌ SO₄²⁻ + H⁺

Kˢ = [H⁺][SO₄²⁻]/[HSO₄⁻]</code></pre><p>Default values from Dickson (1990, Chem. Thermodyn., 22, 113–127).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L347-L365">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KSP"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KSP"><code>OceanBioME.Models.CarbonChemistryModel.KSP</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KSP(therm_constant,
    therm_T,
    therm_inverse_T,
    therm_log_T,
    sea_sqrt_S,
    sea_T_sqrt_S,
    sea_inverse_T_sqrt_S,
    sea_S,
    sea_S_sqrt_S³,
    pressure_correction)</code></pre><p>Generic CaCO₃ solubility parameterisation of the form given by Form from Millero, F. J. (2007, Chemical Reviews, 107(2), 308–341).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L725-L739">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KSi"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KSi"><code>OceanBioME.Models.CarbonChemistryModel.KSi</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KSi(; ionic_strength = IonicStrength(),
      constant =  117.385,
      inverse_T = -8904.2,
      log_T = -19.334,
      sqrt_Is = 3.5913,
      inverse_T_sqrt_Is = -458.79,
      Is = -1.5998,
      inverse_T_Is = 188.74,
      Is² = 0.07871,
      inverse_T_Is² = -12.1652,
      log_S = -0.001005)</code></pre><p>Parameterisation for silicic acid dissociation equilibrium constant.</p><pre><code class="language-julia hljs">Si(OH)₄ ⇌ SiO(OH)₃⁻ + H⁺

Kʷ = [H⁺][SiO(OH)₃⁻]/[Si(OH)₄]</code></pre><p>Default values from Millero (1995, Geochim. Cosmochim. Acta, 59, 661–677).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L653-L673">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KW"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KW"><code>OceanBioME.Models.CarbonChemistryModel.KW</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KW(; constant =  148.9652,
     inverse_T = -13847.26,
     log_T = -23.6521,
     sqrt_S = -5.977,
     inverse_T_sqrt_S =  118.67,
     log_T_sqrt_S =  1.0495,
     S = -0.01615,
     pressure_correction = 
        PressureCorrection(; a₀=-20.02, a₁=0.1119, a₂=-0.001409, b₀=-0.00513, b₁=0.0000794))</code></pre><p>Parameterisation for water dissociation equilibrium constant.</p><pre><code class="language-julia hljs">H₂O ⇌ OH⁻ + H⁺

Kʷ = [H⁺][OH⁻]</code></pre><p>Default values from Millero (1995, Geochim. Cosmochim. Acta, 59, 661–677).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L260-L278">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.PressureCorrection"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.PressureCorrection"><code>OceanBioME.Models.CarbonChemistryModel.PressureCorrection</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PressureCorrection(FT=Float64;
                   a₀, a₁, a₂,
                   b₀, b₁, b₂,
                   R = 83.14472)</code></pre><p>Parameterisation for the pressure effect on thermodynamic constants.</p><p>Form from Millero, F. J. (2007, Chemical Reviews, 107(2), 308–341).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L1-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KP1-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KP1-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><code>OceanBioME.Models.CarbonChemistryModel.KP1</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">KP1(; constant = 115.525,
      inverse_T = -4576.752,
      log_T = - 18.453,
      sqrt_S = 0.69171,
      inverse_T_sqrt_S = -106.736,
      S = -0.01844,
      inverse_T_S = -0.65643,
      pressure_correction = 
         PressureCorrection(; a₀=-14.51, a₁=0.1211, a₂=-0.000321, b₀=-0.00267, b₁=0.0000427))</code></pre><p>Instance of <code>KP</code> returning the first phosphocic acid equilibrium constant.</p><pre><code class="language-julia hljs">H₃PO₄ ⇌ H₂PO₄⁻ + H⁺

Kᵖ¹ = [H⁺][H₂PO₄]/[H₃PO₄]</code></pre><p>Default values from Millero (1995, Geochim. Cosmochim. Acta, 59, 661–677).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L539-L557">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KP2-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KP2-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><code>OceanBioME.Models.CarbonChemistryModel.KP2</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">KP2(; constant = 172.0883,
      inverse_T = -8814.715,
      log_T = -27.927,
      sqrt_S = 1.3566,
      inverse_T_sqrt_S = -160.340,
      S = -0.05778,
      inverse_T_S = 0.37335,
      pressure_correction = 
        PressureCorrection(; a₀=-23.12, a₁=0.1758, a₂=-0.002647, b₀=-0.00515, b₁=0.00009))</code></pre><p>Instance of <code>KP</code> returning the second phosphocic acid equilibrium constant.</p><pre><code class="language-julia hljs">H₂PO₄⁻ ⇌ HPO₄²⁻ + H⁺

Kᵖ² = [H⁺][HPO₄²⁻]/[H₂PO₄⁻]</code></pre><p>Default values from Millero (1995, Geochim. Cosmochim. Acta, 59, 661–677).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L577-L595">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KP3-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KP3-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><code>OceanBioME.Models.CarbonChemistryModel.KP3</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">KP3(; constant = -18.141,
      inverse_T = -3070.75,
      log_T = 0.0,
      sqrt_S = 2.81197,
      inverse_T_sqrt_S = 17.27039,
      S = -0.09984,
      inverse_T_S = -44.99486,
      pressure_correction = 
        PressureCorrection(; a₀=-26.57, a₁=0.2020, a₂=-0.0030420, b₀=-0.00408, b₁=0.0000714))</code></pre><p>Instance of <code>KP</code> returning the third phosphocic acid equilibrium constant.</p><pre><code class="language-julia hljs">HPO₄²⁻ ⇌ PO₄ + H⁺

Kᵖ³ = [H⁺][PO₄³⁻]/[HPO₄⁻]</code></pre><p>Default values from Millero (1995, Geochim. Cosmochim. Acta, 59, 661–677).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L615-L633">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KSP_aragonite-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KSP_aragonite-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><code>OceanBioME.Models.CarbonChemistryModel.KSP_aragonite</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>KSP<em>aragonite(; therm</em>constant = -171.945,                 therm<em>T = -0.077993,                 therm</em>inverse<em>T = 2903.293,                 therm</em>log<em>T = 71.595,                 sea</em>sqrt<em>S = -0.068393,                 sea</em>T<em>sqrt</em>S = 0.0017276,                 sea<em>inverse</em>T<em>sqrt</em>S = 88.135,                 sea<em>S = -0.10018,                 sea</em>S<em>sqrt</em>S³ = 0.0059415,                 pressure_correction =                     PressureCorrection(; a₀=-45.96, a₁=0.5304, a₂=-0.0, b₀=-0.01176, b₁=0.0003692))</p><p>Instance of <code>KSP</code> returning calcite solubility.</p><p>Default values from Millero, F. J. (2007, Chemical Reviews, 107(2), 308–341).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L812-L828">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.CarbonChemistryModel.KSP_calcite-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><a class="docstring-binding" href="#OceanBioME.Models.CarbonChemistryModel.KSP_calcite-Union{Tuple{}, Tuple{Any}, Tuple{PC}} where PC"><code>OceanBioME.Models.CarbonChemistryModel.KSP_calcite</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">KSP_calcite(; therm_constant = -171.9065,
              therm_T = -0.077993,
              therm_inverse_T = 2839.319,
              therm_log_T = 71.595,
              sea_sqrt_S = -0.77712,
              sea_T_sqrt_S = 0.0028426,
              sea_inverse_T_sqrt_S = 178.34,
              sea_S = -0.07711,
              sea_S_sqrt_S³ = 0.0041249,
              pressure_correction =
                  PressureCorrection(; a₀=-48.76, a₁=0.5304, a₂=-0.0, b₀=-0.01176, b₁=0.0003692))</code></pre><p>Instance of <code>KSP</code> returning calcite solubility.</p><p>Default values from Millero, F. J. (2007, Chemical Reviews, 107(2), 308–341).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/CarbonChemistry/equilibrium_constants.jl#L772-L788">source</a></section></details></article><h2 id="Light-Attenuation-Models"><a class="docs-heading-anchor" href="#Light-Attenuation-Models">Light Attenuation Models</a><a id="Light-Attenuation-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Light-Attenuation-Models" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OceanBioME.Light"><a class="docstring-binding" href="#OceanBioME.Light"><code>OceanBioME.Light</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Light attenuation by chlorophyll as described by <a href="../../references/#Karleskind2011">Karleskind <em>et al.</em> (2011)</a> (implemented as TwoBand) and <a href="../../references/#Morel1988">Morel (1988)</a> (as MultiBand).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Light/Light.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Light.MultiBandPhotosyntheticallyActiveRadiation"><a class="docstring-binding" href="#OceanBioME.Light.MultiBandPhotosyntheticallyActiveRadiation"><code>OceanBioME.Light.MultiBandPhotosyntheticallyActiveRadiation</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MultiBandPhotosyntheticallyActiveRadiation{F, FN, K, E, C, SPAR, SPARD}</code></pre><p>Light attenuation model with multiple wave length bands where each band (i) is attenuated like:</p><pre><code class="language-julia hljs">∂PARᵢ(z)/∂z = PARᵢ(kʷ(i) + χ(i)Chl(z)ᵉ⁽ⁱ⁾)</code></pre><p>Where kʷ(i) is the band specific water attenuation coefficient, e(i) the chlorophyll exponent, and χ(i) the chlorophyll attenuation coefficient.</p><p>When the fields are called with <code>biogeochemical_auxiliary_fields</code> an additional field named <code>PAR</code> is also returned which is a sum of the bands.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Light/multi_band.jl#L13-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Light.MultiBandPhotosyntheticallyActiveRadiation-Union{Tuple{}, Tuple{FT}} where FT"><a class="docstring-binding" href="#OceanBioME.Light.MultiBandPhotosyntheticallyActiveRadiation-Union{Tuple{}, Tuple{FT}} where FT"><code>OceanBioME.Light.MultiBandPhotosyntheticallyActiveRadiation</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">MultiBandPhotosyntheticallyActiveRadiation(; grid::AbstractGrid{FT}, 
                                             bands = ((400, 500), (500, 600), (600, 700)), #nm
                                             base_bands = MOREL_λ,
                                             base_water_attenuation_coefficient = MOREL_kʷ,
                                             base_chlorophyll_exponent = MOREL_e,
                                             base_chlorophyll_attenuation_coefficient = MOREL_χ,
                                             field_names = [par_symbol(n, length(bands)) for n in 1:length(bands)],
                                             surface_PAR = default_surface_PAR)</code></pre><p>Returns a <code>MultiBandPhotosyntheticallyActiveRadiation</code> attenuation model of <code>surface_PAR</code> in divided  into <code>bands</code> by <code>surface_PAR_division</code>. </p><p>The attenuation morel<em>coefficients are computed from `base</em>water<em>attenuation</em>coefficient<code>,</code>base<em>chlorophyll</em>exponent<code>, and</code>base<em>chlorophyll</em>attenuation<em>coefficient<code>which should be  arrays of the coefficients at</code>base</em>bands` wavelengths. </p><p>The returned <code>field_names</code> default to <code>PAR₁</code>, <code>PAR₂</code>, etc., but may be specified by the user instead.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>grid</code>: grid for building the model on</li><li><code>water_red_attenuation</code>, ..., <code>phytoplankton_chlorophyll_ratio</code>: parameter values</li><li><code>surface_PAR</code>: function (or array in the future) for the photosynthetically available radiation at the surface,   which should be <code>f(x, y, t)</code> where <code>x</code> and <code>y</code> are the native coordinates (i.e. meters for rectilinear grids  and latitude/longitude as appropriate)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Light/multi_band.jl#L39-L67">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Light.PrescribedPhotosyntheticallyActiveRadiation"><a class="docstring-binding" href="#OceanBioME.Light.PrescribedPhotosyntheticallyActiveRadiation"><code>OceanBioME.Light.PrescribedPhotosyntheticallyActiveRadiation</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PrescribedPhotosyntheticallyActiveRadiation(fields)</code></pre><p><code>PrescribedPhotosyntheticallyActiveRadiation</code> returns &quot;prescribed&quot; PAR fields which are user specified, e.g. they may be <code>FunctionField</code>s or  <code>ConstantField</code>s.</p><p><code>fields</code> may either be an <code>AbstractField</code> or a <code>NamedTuple</code> of names and  fields which will be returned in <code>biogeochemical_auxiliary_fields</code>, if only one field is present the field will be named <code>PAR</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Light/prescribed.jl#L14-L24">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Light.TwoBandPhotosyntheticallyActiveRadiation-Union{Tuple{}, Tuple{SPAR}, Tuple{FT}} where {FT, SPAR}"><a class="docstring-binding" href="#OceanBioME.Light.TwoBandPhotosyntheticallyActiveRadiation-Union{Tuple{}, Tuple{SPAR}, Tuple{FT}} where {FT, SPAR}"><code>OceanBioME.Light.TwoBandPhotosyntheticallyActiveRadiation</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">TwoBandPhotosyntheticallyActiveRadiation(; grid::AbstractGrid{FT}, 
                                           water_red_attenuation::FT = 0.225, # 1/m
                                           water_blue_attenuation::FT = 0.0232, # 1/m
                                           chlorophyll_red_attenuation::FT = 0.037, # 1/(m * (mgChl/m³) ^ eʳ)
                                           chlorophyll_blue_attenuation::FT = 0.074, # 1/(m * (mgChl/m³) ^ eᵇ)
                                           chlorophyll_red_exponent::FT = 0.629,
                                           chlorophyll_blue_exponent::FT = 0.674,
                                           pigment_ratio::FT = 0.7,
                                           phytoplankton_chlorophyll_ratio::FT = 1.31,
                                           surface_PAR::SPAR = default_surface_PAR)</code></pre><p><strong>Keyword Arguments</strong></p><ul><li><code>grid</code>: grid for building the model on</li><li><code>water_red_attenuation</code>, ..., <code>phytoplankton_chlorophyll_ratio</code>: parameter values</li><li><code>surface_PAR</code>: function (or array in the future) for the photosynthetically available radiation at the surface,   which should be <code>f(x, y, t)</code> where <code>x</code> and <code>y</code> are the native coordinates (i.e. meters for rectilinear grids  and latitude/longitude as appropriate)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Light/2band.jl#L76-L96">source</a></section></details></article><h2 id="Sediments"><a class="docs-heading-anchor" href="#Sediments">Sediments</a><a id="Sediments-1"></a><a class="docs-heading-anchor-permalink" href="#Sediments" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SedimentModels.InstantRemineralisation"><a class="docstring-binding" href="#OceanBioME.Models.SedimentModels.InstantRemineralisation"><code>OceanBioME.Models.SedimentModels.InstantRemineralisation</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">InstantRemineralisation</code></pre><p>Hold the parameters and fields a simple sediment model where sinking organic carbon is &quot;instantly remineralised&quot; and either returned to the domain as  <code>remineralisation_reciever</code> (typically NH₄), or permanently stored in the sediment.</p><p>The &quot;burial efficiency&quot; (the fraction permanently stored) is from  <a href="../../references/#RemineralisationFraction">Dunne <em>et al.</em> (2007)</a>, and varies with the sinking flux.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Sediments/instant_remineralisation.jl#L3-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SedimentModels.SimpleMultiG"><a class="docstring-binding" href="#OceanBioME.Models.SedimentModels.SimpleMultiG"><code>OceanBioME.Models.SedimentModels.SimpleMultiG</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct SimpleMultiG</code></pre><p>Hold the parameters and fields for a simple &quot;multi G&quot; single-layer sediment model. Based on the Level 3 model described by <a href="../../references/#Soetaert2000">Soetaert <em>et al.</em> (2000)</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Sediments/simple_multi_G.jl#L9-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SedimentModels.InstantRemineralisationSediment-Tuple{Any}"><a class="docstring-binding" href="#OceanBioME.Models.SedimentModels.InstantRemineralisationSediment-Tuple{Any}"><code>OceanBioME.Models.SedimentModels.InstantRemineralisationSediment</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">InstantRemineralisationSediment(grid;
                                sinking_tracers = (:P, :D), 
                                remineralisation_reciever = :N,
                                burial_efficiency_constant1 = 0.013,
                                burial_efficiency_constant2 = 0.53,
                                burial_efficiency_half_saturation = 7.0 / 6.56,
                                kwargs...)</code></pre><p>Return a single-layer instant remineralisation sediment model where the <code>sinking_tracers</code> are instantly remineralised and returned to <code>remineralisation_reciever</code> with a small fraction permanently buried with efficiency:</p><p>e = a + b * f / (k + f)²</p><p>where <code>a</code> is <code>burial_efficiency_constant1</code>, <code>b</code> is <code>burial_efficiency_constant2</code>, and  <code>k</code> is the <code>burial_efficiency_half_saturation</code>.</p><p><code>kwargs...</code> are <code>BiogeochemicalSediment</code> key word arguments.</p><p><strong>Example</strong></p><pre><code class="language- hljs">using OceanBioME, Oceananigans

grid = RectilinearGrid(size=(3, 3, 30), extent=(10, 10, 200))

sediment_model = InstantRemineralisationSediment(grid)

biogeochemistry = NPZD(; grid, sediment_model)</code></pre><pre><code class="language- hljs">using OceanBioME, Oceananigans

grid = RectilinearGrid(size=(3, 3, 30), extent=(10, 10, 200))

sediment_model = InstantRemineralisationSediment(grid; 
                                                 sinking_tracers = (:sPOM, :bPOM),
                                                 remineralisation_reciever = :NH₄)

biogeochemistry = LOBSTER(; grid, sediment_model)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Sediments/instant_remineralisation.jl#L38-L82">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.SedimentModels.SimpleMultiGSediment-Tuple{Any}"><a class="docstring-binding" href="#OceanBioME.Models.SedimentModels.SimpleMultiGSediment-Tuple{Any}"><code>OceanBioME.Models.SedimentModels.SimpleMultiGSediment</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">SimpleMultiGSediment(grid;
                     fast_decay_rate = 2/day,
                     slow_decay_rate = 0.2/day,
                     fast_redfield = 0.1509,
                     slow_redfield = 0.13,
                     fast_fraction = 0.74,
                     slow_fraction = 0.26,
                     refactory_fraction = 0.1,
                     sedimentation_rate = 982 * abs(znode(1, 1, 1, grid, Center(), Center(), Center())) ^ (-1.548), # cm/year, incorrect for D &lt; 100m
                     anoxia_half_saturation = 1.0, # mmol/m³ (arbitarily low)
                     nitrate_oxidation_params = on_architecture(architecture(grid), (- 1.9785, 0.2261, -0.0615, -0.0289, - 0.36109, - 0.0232)),
                     denitrification_params = on_architecture(architecture(grid), (- 3.0790, 1.7509, 0.0593, - 0.1923, 0.0604, 0.0662)),
                     anoxic_params = on_architecture(architecture(grid), (- 3.9476, 2.6269, - 0.2426, -1.3349, 0.1826, - 0.0143)),
                     solid_dep_params = on_architecture(architecture(grid), (0.233, 0.336, 982.0, - 1.548)),
                     sinking_nitrogen = (:sPOM, :bPOM),
                     sinking_carbon = nothing,
                     sinking_redfield = ifelse(isnothing(sinking_carbon), convert(eltype(grid), 6.56), nothing),
                     kwargs...)</code></pre><p>Return a single-layer &quot;multi G&quot; sediment model (<code>SimpleMultiG</code>) on <code>grid</code>, where parameters can be optionally specified.</p><p>The model is a single layer (i.e. does not include porous diffusion) model with three classes of sediment organic matter which decay at three different rates (fast, slow, refactory). The nitrification/denitrification/anoxic mineralisation fractions default to the parameterisation of Soetaert et al. 2000; doi:<a href="https://doi.org/10.1016/S0012-8252(00)00004-0">10.1016/S0012-8252(00)00004-0</a>.</p><p>This model has not yet been validated or compared to observational data. The variety of degridation processes is likely to be strongly dependent on oxygen availability (see <a href="https://bg.copernicus.org/articles/6/1273/2009/bg-6-1273-2009.pdf">https://bg.copernicus.org/articles/6/1273/2009/bg-6-1273-2009.pdf</a>) so it will therefore be important to also thoroughly validate the oxygen model (also currently limited).</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using OceanBioME, Oceananigans

julia&gt; grid = RectilinearGrid(size=(3, 3, 30), extent=(10, 10, 200));

julia&gt; sediment = SimpleMultiGSediment(grid)
`BiogeochemicalSediment` with `Single-layer multi-G sediment model (Float64)` biogeochemsitry
    Prognostic fields: (:Ns, :Nf, :Nr)
    Tracked fields: (:NO₃, :NH₄, :O₂, :sPOM, :bPOM)
    Coupled fields: (:NO₃, :NH₄, :O₂)

julia&gt; biogeochemistry = LOBSTER(; grid, sediment, detritus = TwoParticleAndDissolved(grid; open_bottom=true))
LOBSTER model (:NO₃, :NH₄, :P, :Z, :sPOM, :bPOM, :DOM)
 Light attenuation: Two-band light attenuation model (Float64)
 Sediment: `BiogeochemicalSediment` with `Single-layer multi-G sediment model (Float64)` biogeochemsitry
 Particles: Nothing
 Modifiers: Nothing
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/Sediments/simple_multi_G.jl#L48-L103">source</a></section></details></article><h2 id="Gas-exchange-boundary-conditions"><a class="docs-heading-anchor" href="#Gas-exchange-boundary-conditions">Gas exchange boundary conditions</a><a id="Gas-exchange-boundary-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Gas-exchange-boundary-conditions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel"><code>OceanBioME.Models.GasExchangeModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><p><code>GasExchangeModel</code> to solve chemical equilibrium parameterisations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/GasExchange.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.CarbonDioxideConcentration"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.CarbonDioxideConcentration"><code>OceanBioME.Models.GasExchangeModel.CarbonDioxideConcentration</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CarbonDioxideConcentration(; carbon_chemistry, 
                             first_virial_coefficient = PolynomialVirialCoefficientForCarbonDioxide(),
                             cross_viral_coefficient = CrossVirialCoefficientForCarbonDioxide(),
                             air_pressue = 1 # atm)</code></pre><p>Converts fCO₂ to partial pressure as per Dickson, A.G., Sabine, C.L. and  Christian, J.R. (2007),  Guide to Best Practices for Ocean CO 2 Measurements. PICES Special Publication 3, 191 pp.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/carbon_dioxide_concentration.jl#L1-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.GasExchange"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.GasExchange"><code>OceanBioME.Models.GasExchangeModel.GasExchange</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">GasExchange</code></pre><p><code>GasExchange</code> returns the air-sea flux of a gas betwen <code>water_concentration</code> and <code>air_concentration</code> with a <code>transfer_velocity</code> computed from the temperature  (provided later), and the <code>wind_speed</code>.</p><p><code>transfer_velocity</code> should behave as a function of wind speed and temperature (i.e. <code>k(u, T)</code>), <code>water_concentration</code> a function of <code>c(x, y, t, T, field_dependencies...)</code>.</p><p><code>water_concentration</code>, <code>air_concentration</code> and <code>wind_speed</code> can either be numbers,  functions of the form <code>(x, y, t)</code>, functions of the form <code>(i, j, grid, clock, model_fields)</code>  if <code>discrete_form</code> is set to true, or any kind of <code>Field</code>.</p><p><code>water_concentration</code> should usually be a <code>[Tracer]Concentration</code> where is the name of the tracer (you will have to build your own if this is not <code>OxygenConcentration</code>),  or a <code>CarbonDioxideConcentration</code> which diagnoses the partial pressure of CO₂ in the water.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_exchange.jl#L1-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.PartiallySolubleGas"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.PartiallySolubleGas"><code>OceanBioME.Models.GasExchangeModel.PartiallySolubleGas</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PartiallySolubleGas(; air_concentration, solubility)</code></pre><p>Parameterises the available concentration of a gas dissolving in water in the form <span>$\alpha C_a$</span> where <span>$lpha$</span> is the Ostwald solubility coeffieient and <span>$C_a$</span> is the concentration in the air.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_solubility.jl#L1-L6">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.Wanninkhof92Solubility"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.Wanninkhof92Solubility"><code>OceanBioME.Models.GasExchangeModel.Wanninkhof92Solubility</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Wanninkhof92Solubility</code></pre><p>Parameterises the Ostwald solubility coefficient as given in Wanninkhof, 1992.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_solubility.jl#L26-L30">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.CarbonDioxideGasExchangeBoundaryCondition"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.CarbonDioxideGasExchangeBoundaryCondition"><code>OceanBioME.Models.GasExchangeModel.CarbonDioxideGasExchangeBoundaryCondition</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">CarbonDioxideGasExchangeBoundaryCondition(FT = Float64; 
                                          carbon_chemistry = CarbonChemistry(FT),
                                          transfer_velocity = SchmidtScaledTransferVelocity(schmidt_number = CarbonDioxidePolynomialSchmidtNumber(FT)),
                                          air_concentration = 413, # ppmv
                                          wind_speed = 2,
                                          water_concentration = nothing,
                                          silicate_and_phosphate_names = nothing,
                                          kwargs...)</code></pre><p>Returns a <code>FluxBoundaryCondition</code> for the gas exchange between carbon dioxide dissolved in the water specified by the <code>carbon_chemisty</code> model, and <code>air_concentration</code> with <code>transfer_velocity</code> (see  <code>GasExchangeBoundaryCondition</code> for details).</p><p><code>silicate_and_phosphate_names</code> should either be <code>nothing</code>, a <code>Tuple</code><code>of symbols specifying the name of the silicate and phosphate tracers, or a</code>NamedTuple<code>of values for the</code>carbon_chemistry` model.</p><p><code>kwargs</code> are passed on to <code>GasExchangeBoundaryCondition</code>.</p><p>Note: The model always requires <code>T</code>, <code>S</code>, <code>DIC</code>, and <code>Alk</code> to be present in the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/GasExchange.jl#L83-L103">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.CarbonDioxidePolynomialSchmidtNumber"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.CarbonDioxidePolynomialSchmidtNumber"><code>OceanBioME.Models.GasExchangeModel.CarbonDioxidePolynomialSchmidtNumber</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">CarbonDioxidePolynomialSchmidtNumber(FT = Float64; a = 2116.8, b = -136.25, c = 4.7353, d = -0.092307, e = 0.0007555)</code></pre><p>Schmidt number parameterisation Wanninkhof, 2014 for sea water</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/schmidt_number.jl#L2-L6">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.GasExchangeBoundaryCondition"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.GasExchangeBoundaryCondition"><code>OceanBioME.Models.GasExchangeModel.GasExchangeBoundaryCondition</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">GasExchangeBoundaryCondition(; water_concentration,
                               air_concentration,
                               transfer_velocity,
                               wind_speed)</code></pre><p>Returns a <code>FluxBoundaryCondition</code> for the gas exchange between <code>water_concentration</code> and <code>air_concentration</code> with <code>transfer_velocity</code>.</p><p><code>water_concentration</code>, <code>air_concentration</code> and <code>wind_speed</code> can either be numbers,  functions of the form <code>(x, y, t)</code>, functions of the form <code>(i, j, grid, clock, model_fields)</code>  if <code>discrete_form</code> is set to true, or any kind of <code>Field</code>.</p><p><code>water_concentration</code> should usually be a <code>[Tracer]Concentration</code> where is the name of the tracer (you will have to build your own if this is not <code>OxygenConcentration</code>),  or a <code>CarbonDioxideConcentration</code> which diagnoses the partial pressure of CO₂ in the water.</p><p><code>transfer_velocity</code> should be a function of the form <code>k(u₁₀, T)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/GasExchange.jl#L49-L67">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.OxygenGasExchangeBoundaryCondition"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.OxygenGasExchangeBoundaryCondition"><code>OceanBioME.Models.GasExchangeModel.OxygenGasExchangeBoundaryCondition</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">OxygenGasExchangeBoundaryCondition(FT = Float64; 
                                   transfer_velocity = SchmidtScaledTransferVelocity(schmidt_number = OxygenPolynomialSchmidtNumber(FT)),
                                   water_concentration = OxygenConcentration(),
                                   air_concentration = 9352.7, # mmolO₂/m³
                                   wind_speed = 2,
                                   kwagrs...)</code></pre><p>Returns a <code>FluxBoundaryCondition</code> for the gas exchange between oxygen dissolved in the water specified by the the <code>OxygenConcentration</code> in the base model, and <code>air_concentration</code> with <code>transfer_velocity</code> (see <code>GasExchangeBoundaryCondition</code> for details).</p><p><code>kwargs</code> are passed on to <code>GasExchangeBoundaryCondition</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/GasExchange.jl#L126-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.OxygenPolynomialSchmidtNumber"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.OxygenPolynomialSchmidtNumber"><code>OceanBioME.Models.GasExchangeModel.OxygenPolynomialSchmidtNumber</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">OxygenPolynomialSchmidtNumber(FT = Float64; a = 1953.4, b = - 128.0, c = 3.9918, d = -0.050091)</code></pre><p>Schmidt number parameterisation Wanninkhof, 2014 for sea water</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/schmidt_number.jl#L10-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.SchmidtScaledTransferVelocity"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.SchmidtScaledTransferVelocity"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.SchmidtScaledTransferVelocity</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SchmidtScaledTransferVelocity(; schmidt_number, 
                                base_transfer_velocity = Ho06())</code></pre><p>Returns a model for gas transfer velocity which depends on the <code>u₁₀</code>, the 10m-wind, and  <code>T</code>emperature. The model is of the typical form:</p><pre><code class="language-julia hljs">k(u₁₀, T) = k₆₆₀(u₁₀) √(660/Sc(T))</code></pre><p>The <code>base_transfer_velocity</code> (k₆₆₀) is typically an empirically derived gas transfer velocity normalised by the Scmidt number for CO₂ at 20°C (660), and the <code>schmidt_number</code> (Sc) is a parameterisation of the gas specific Schmidt number.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L11-L23">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.CCMP2"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.CCMP2"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.CCMP2</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">CCMP2(FT = Float64; scale_factor = 0.256789 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation calibrated to give 16.5 cm/hr global average (reccomended Naegler, 2009) for the CCMP2 wind product by SeaFlux/Luke Gregor et al. (2023).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L131-L136">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.ERA5"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.ERA5"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.ERA5</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ERA5(FT = Float64; scale_factor = 0.270875 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation calibrated to give 16.5 cm/hr global average (reccomended Naegler, 2009) for the ERA5 wind product by SeaFlux/Luke Gregor et al. (2023).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L107-L112">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Ho06"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Ho06"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Ho06</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Ho06(FT = Float64; scale_factor = 0.266 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation of Ho et al. (2006) suitable for the QuickSCAT satellite and short-term  steady wind product.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L55-L60">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.JRA55"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.JRA55"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.JRA55</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">JRA55(FT = Float64; scale_factor = 0.2601975 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation calibrated to give 16.5 cm/hr global average (reccomended Naegler, 2009) for the JRA55 wind product by SeaFlux/Luke Gregor et al. (2023).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L115-L120">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.McGillis01"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.McGillis01"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.McGillis01</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">McGillis01(FT = Float64; constant = 3.3 / hour / 100, cubic = 0.026 / hour / 100)</code></pre><p>Cubic k₆₆₀ parameterisation of McGillis et al. (2001) suitable for  short term, in situ wind products.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L72-L77">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.NCEP1"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.NCEP1"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.NCEP1</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">NCEP1(FT = Float64; scale_factor = 0.2866424 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation calibrated to give 16.5 cm/hr global average (reccomended Naegler, 2009) for the NCEP1 wind product by SeaFlux/Luke Gregor et al. (2023).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L123-L128">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Nightingale00"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Nightingale00"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Nightingale00</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Nightingale00(FT = Float64; linear = 0.333 / hour / 100, quadratic = 0.222 / hour / 100)</p><p>Cubic k₆₆₀ parameterisation of Nightingale et al. (2000) suitable for  short term, in situ wind products (?).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L63-L68">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Sweeny07"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Sweeny07"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Sweeny07</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Sweeny07(FT = Float64; scale_factor = 0.27 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation of Sweeny et al. (2007) suitable for the NCEP/NCAR reanalysis 1 product</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L81-L86">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof09"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof09"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof09</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Wanninkhof09(FT = Float64; constant = 3 / hour / 100, linear = 0.1 / hour / 100, quadratic = 0.064 / hour / 100, cubic = 0.011 / hour / 100)</code></pre><p>Cubic k₆₆₀ parameterisation of Wanninkhof et al (2009) suitable for the Cross-Calibrated Multi-Platform (CCMP) Winds product</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L89-L94">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof14"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof14"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof14</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Wanninkhof14(FT = Float64; scale_factor = 0.251 / hour / 100)</code></pre><p>Quadratic k₆₆₀ parameterisation of Wanninkhof et al (2014) suitable for the Cross-Calibrated Multi-Platform (CCMP) Winds product</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L99-L104">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof99"><a class="docstring-binding" href="#OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof99"><code>OceanBioME.Models.GasExchangeModel.ScaledGasTransferVelocity.Wanninkhof99</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Wanninkhof99(FT = Float64; scale_factor = 0.0283 / hour / 100)</code></pre><p>Cubic k₆₆₀ parameterisation of Wanninkhof &amp; McGillis (1999) suitable for  short term, in situ wind products.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Models/GasExchange/gas_transfer_velocity.jl#L47-L52">source</a></section></details></article><h2 id="Box-Model"><a class="docs-heading-anchor" href="#Box-Model">Box Model</a><a id="Box-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Box-Model" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OceanBioME.BoxModels"><a class="docstring-binding" href="#OceanBioME.BoxModels"><code>OceanBioME.BoxModels</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Integrate biogeochemical models on a single point</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/BoxModel/boxmodel.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.BoxModels.BoxModel-Union{Tuple{}, Tuple{PT}, Tuple{C}, Tuple{G}, Tuple{B}} where {B, G, C, PT}"><a class="docstring-binding" href="#OceanBioME.BoxModels.BoxModel-Union{Tuple{}, Tuple{PT}, Tuple{C}, Tuple{G}, Tuple{B}} where {B, G, C, PT}"><code>OceanBioME.BoxModels.BoxModel</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">BoxModel(; biogeochemistry,
           forcing = NamedTuple(),
           timestepper = :RungeKutta3,
           clock = Clock(; time = 0.0),
           prescribed_tracers::PT = NamedTuple())</code></pre><p>Constructs a box model of a <code>biogeochemistry</code> model. Once this has been constructed you can set initial condiitons by <code>set!(model, X=1.0...)</code>.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>biogeochemistry</code>: (required) an OceanBioME biogeochemical model, most models must be passed a <code>grid</code> which can be set to a <code>BoxModelGrid</code> for box models</li><li><code>forcing</code>: NamedTuple of additional forcing functions for the biogeochemical tracers to be integrated</li><li><code>timestepper</code>: Timestepper to integrate model</li><li><code>clock</code>: Oceananigans clock to keep track of time</li><li><code>prescribed_tracers</code>: named tuple of tracer names and function (<code>f(t)</code>) prescribing tracer values</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/BoxModel/boxmodel.jl#L47-L64">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Oceananigans.Fields.set!-Tuple{BoxModel}"><a class="docstring-binding" href="#Oceananigans.Fields.set!-Tuple{BoxModel}"><code>Oceananigans.Fields.set!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set!(model::BoxModel; kwargs...)</code></pre><p>Set the <code>values</code> for a <code>BoxModel</code></p><p><strong>Arguments</strong></p><ul><li><code>model</code> - the model to set the arguments for</li></ul><p><strong>Keyword Arguments</strong></p><ul><li>variables and value pairs to set</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/BoxModel/boxmodel.jl#L118-L132">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Oceananigans.TimeSteppers.cache_previous_tendencies!-Tuple{BoxModel}"><a class="docstring-binding" href="#Oceananigans.TimeSteppers.cache_previous_tendencies!-Tuple{BoxModel}"><code>Oceananigans.TimeSteppers.cache_previous_tendencies!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Store previous source terms before updating them. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/BoxModel/timesteppers.jl#L19">source</a></section></details></article><h2 id="Particles"><a class="docs-heading-anchor" href="#Particles">Particles</a><a id="Particles-1"></a><a class="docs-heading-anchor-permalink" href="#Particles" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OceanBioME.Particles.BiogeochemicalParticles-Union{Tuple{Any}, Tuple{FT}} where FT"><a class="docstring-binding" href="#OceanBioME.Particles.BiogeochemicalParticles-Union{Tuple{Any}, Tuple{FT}} where FT"><code>OceanBioME.Particles.BiogeochemicalParticles</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">BiogeochemicalParticles(number;
                        grid,
                        biogeochemistry,
                        advection = LagrangianAdvection(),
                        timestepper = ForwardEuler,
                        field_interpolation = NearestPoint(),
                        scalefactors = ones(number))</code></pre><p>Creates <code>number</code> particles with <code>biogeochemistry</code> on <code>grid</code>, advected by <code>advection</code> which defaults to <code>LagrangianAdvection</code> (i.e. they comove with the water). The biogeochemistry is stepped by <code>timestepper</code> and tracer fields are interpolated by <code>field_interpolation</code>, which defaults to directly reading the nearest center point and taking up/depositing in the same.</p><p>Particles can also have a <code>scalefactor</code> which scales their tracer interaction (e.g. to mimic the particle representing multiple particles).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Particles/Particles.jl#L62-L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Particles.ForwardEuler"><a class="docstring-binding" href="#OceanBioME.Particles.ForwardEuler"><code>OceanBioME.Particles.ForwardEuler</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ForwardEuler</code></pre><p>Step particle biogeochemistry with a <code>ForwardEuler</code> methods with <code>Δt</code> from the physical model substep.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Particles/time_stepping.jl#L1-L6">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Particles.LagrangianAdvection"><a class="docstring-binding" href="#OceanBioME.Particles.LagrangianAdvection"><code>OceanBioME.Particles.LagrangianAdvection</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LagrangianAdvection</code></pre><p>Specifies that particles should move in a purley lagrangian mannor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Particles/advection.jl#L8-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OceanBioME.Particles.NearestPoint"><a class="docstring-binding" href="#OceanBioME.Particles.NearestPoint"><code>OceanBioME.Particles.NearestPoint</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NearestPoint</code></pre><p>Specifies that tracer values should be taken from the nearst center point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OceanBioME/OceanBioME.jl/blob/4667bd10f8db10906b4674a79de9995e41992bdf/src/Particles/tracer_interpolation.jl#L9-L13">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../references/">« References</a><a class="docs-footer-nextpage" href="../function_index/">Function index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 2 December 2025 01:16">Tuesday 2 December 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
